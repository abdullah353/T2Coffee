var ConsentRunView,_ref,__hasProp={}.hasOwnProperty,__extends=function(d,b){for(var a in b){if(__hasProp.call(b,a)){d[a]=b[a];}}function c(){this.constructor=d;
}c.prototype=b.prototype;d.prototype=new c();d.__super__=b.prototype;return d;};ConsentRunView=(function(b){__extends(a,b);function a(){_ref=a.__super__.constructor.apply(this,arguments);
return _ref;}a.prototype.events={"click #non_consent_confirm":"noConsent","click #consent_yes":"clearMessages","click #consent_no":"showNonConsent"};a.prototype.initialize=function(c){this.confirmedNonConsent=false;
this.model=this.options.model;return this.parent=this.options.parent;};a.prototype.render=function(){this.$el.html("    <form>      <div class='question'>        <label>"+(this.model.get("prompt")||"Does the child consent?")+"</label>        <div class='messages'></div>        <div class='non_consent_form confirmation'>          <div>Click to confirm consent not obtained.</div>          <button id='non_consent_confirm'>Confirm</button>        </div>        <div id='consent_options' class='buttonset'>          <label for='consent_yes'>Yes, continue</label>          <input id='consent_yes' type='radio' name='participant_consents' value='yes'>          <label for='consent_no'>No, stop</label>          <input id='consent_no' type='radio' name='participant_consents' value='no'>        </div>      </div>    </form>    ");
return this.trigger("rendered");};a.prototype.isValid=function(){if(this.confirmedNonConsent===false){if(this.$el.find("input[name=participant_consents]:checked").val()==="yes"){return true;
}else{return false;}}else{return true;}};a.prototype.showNonConsent=function(){return this.$el.find(".non_consent_form").show(250);};a.prototype.clearMessages=function(){this.$el.find(".non_consent_form").hide(250);
return this.$el.find(".messages").html("");};a.prototype.noConsent=function(){this.confirmedNonConsent=true;this.parent.abort();return false;};a.prototype.getSkipped=function(){return{consent:"skipped"};
};a.prototype.showErrors=function(){var c;c=this.$el.find("input[name=participant_consents]:checked").val();if(c==="no"){Utils.midAlert("Please confirm");
return this.showNonConsent;}else{if(c===void 0){return $(".messages").html("Please select one");}}};a.prototype.getResult=function(){return{consent:this.$el.find("input[name=participant_consents]:checked").val()};
};a.prototype.getSum=function(){return{correct:1,incorrect:0,missing:0,total:1};};return a;})(Backbone.View);