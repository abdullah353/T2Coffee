var ObservationEditView,_ref,__hasProp={}.hasOwnProperty,__extends=function(d,b){for(var a in b){if(__hasProp.call(b,a)){d[a]=b[a];}}function c(){this.constructor=d;
}c.prototype=b.prototype;d.prototype=new c();d.__super__=b.prototype;return d;};ObservationEditView=(function(b){__extends(a,b);function a(){_ref=a.__super__.constructor.apply(this,arguments);
return _ref;}a.prototype.initialize=function(c){var d;this.model=c.model;d=$.extend(this.model.get("surveyAttributes"),{_id:this.model.id,assessmentId:this.model.get("assessmentId")});
this.surveyModel=new Backbone.Model(d);return this.surveyView=new SurveyEditView({model:this.surveyModel});};a.prototype.save=function(){var e,d,c;e=[];
c=parseInt(this.$el.find("#total_seconds").val());d=parseInt(this.$el.find("#interval_length").val());if(c===0){e.push("Total seconds needs to be non-zero value.");
}if(d===0){e.push("Interval length needs to be a non-zero value.");}if(e.length!==0){alert("Warning\n\n"+(e.join("\n")));}return this.model.set({totalSeconds:c,intervalLength:d,surveyAttributes:this.surveyModel.attributes});
};a.prototype.render=function(){var d,c;c=this.model.get("totalSeconds")||0;d=this.model.get("intervalLength")||0;this.$el.html("      <div class='label_value'>        <label for='total_seconds'>Total seconds</label>        <input id='total_seconds' value='"+c+"' type='number'><br>        <label for='interval_length' title='In seconds'>Interval length</label>        <input id='interval_length' value='"+d+"' type='number'>      </div>      <div id='survey_editor'></div>    ");
this.surveyView.setElement(this.$el.find("#survey_editor"));this.surveyView.render();return this.$el.find("#grid_link").remove();};return a;})(Backbone.View);
