var IdRunView,_ref,__hasProp={}.hasOwnProperty,__extends=function(d,b){for(var a in b){if(__hasProp.call(b,a)){d[a]=b[a];}}function c(){this.constructor=d;
}c.prototype=b.prototype;d.prototype=new c();d.__super__=b.prototype;return d;};IdRunView=(function(b){__extends(a,b);function a(){_ref=a.__super__.constructor.apply(this,arguments);
return _ref;}a.prototype.className="id";a.prototype.events={"click #generate":"generate","change #participant_id":"setValidator"};a.prototype.initialize=function(c){this.model=this.options.model;
this.parent=this.options.parent;return this.validator=new CheckDigit;};a.prototype.render=function(){this.$el.html("    <form>      <label for='participant_id'>Random Identifier</label>      <input id='participant_id' name='participant_id'>      <button id='generate' class='command'>Generate</button>      <div class='messages'></div>    </form>");
return this.trigger("rendered");};a.prototype.getResult=function(){return{participant_id:this.$el.find("#participant_id").val()};};a.prototype.getSkipped=function(){return{participant_id:"skipped"};
};a.prototype.getSum=function(){return{correct:1,incorrect:0,missing:0,total:1};};a.prototype.setValidator=function(){return this.validator.set(this.$el.find("#participant_id").val());
};a.prototype.isValid=function(){this.setValidator();if(!this.validator.isValid()){return false;}return this.updateNavigation();};a.prototype.showErrors=function(){return this.$el.find(".messages").html(this.validator.getErrors().join(", "));
};a.prototype.generate=function(){this.$el.find(".messages").empty();this.$el.find("#participant_id").val(this.validator.generate());return false;};a.prototype.updateNavigation=function(){return Tangerine.nav.setStudent(this.$el.find("#participant_id").val());
};return a;})(Backbone.View);