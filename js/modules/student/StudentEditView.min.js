var StudentEditView,_ref,__hasProp={}.hasOwnProperty,__extends=function(d,b){for(var a in b){if(__hasProp.call(b,a)){d[a]=b[a];}}function c(){this.constructor=d;
}c.prototype=b.prototype;d.prototype=new c();d.__super__=b.prototype;return d;};StudentEditView=(function(b){__extends(a,b);function a(){_ref=a.__super__.constructor.apply(this,arguments);
return _ref;}a.prototype.events={"click .done":"done","click .back":"back"};a.prototype.initialize=function(c){this.student=c.student;return this.klasses=c.klasses;
};a.prototype.done=function(){var c;c=this.$el.find("#klass_select option:selected").attr("data-id");if(c==="null"){c=null;}this.student.set({name:this.$el.find("#name").val(),gender:this.$el.find("#gender").val(),age:this.$el.find("#age").val(),klassId:c});
this.student.save();return this.back();};a.prototype.back=function(){return window.history.back();};a.prototype.render=function(){var j,h,f,g,k,c,e,i,d;
c=this.student.get("name")||"";h=this.student.get("gender")||"";j=this.student.get("age")||"";k=this.student.get("klassId");f="    <h1>"+(t("edit student"))+"</h1>    <button class='back navigation'>"+(t("back"))+"</button><br>    <div class='info_box'>      <div class='label_value'>        <label for='name'>"+(t("name"))+"</label>        <input id='name' value='"+c+"'>      </div>      <div class='label_value'>        <label for='gender'>"+(t("gender"))+"</label>        <input id='gender' value='"+h+"'>      </div>      <div class='label_value'>        <label for='age'>"+(t("age"))+"</label>        <input id='age' value='"+j+"'>      </div>      <div class='label_value'>        <label for='klass_select'>"+(t("class"))+"</label>        <select id='klass_select'>";
f+="<option data-id='null' "+(k===null?"selected='selected'":void 0)+">"+(t("none"))+"</option>";d=this.klasses.models;for(e=0,i=d.length;e<i;e++){g=d[e];
f+="<option data-id='"+g.id+"' "+(g.id===k?"selected='selected'":void 0)+">"+(g.get("year"))+" - "+(g.get("grade"))+" - "+(g.get("stream"))+"</option>";
}f+="        </select>      </div>      <button class='done command'>"+(t("done"))+"</button>    </div>    ";this.$el.html(f);return this.trigger("rendered");
};return a;})(Backbone.View);